<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head">
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Title Page-->
    <title>티메이트</title>

    <!-- Fontfaces CSS-->
    <link th:href="@{~/css/font-face.css}" rel="stylesheet" media="all">
    <link th:href="@{~/vendor/font-awesome-4.7/css/font-awesome.min.css}" rel="stylesheet" media="all">
    <link th:href="@{~/vendor/font-awesome-5/css/fontawesome-all.min.css}" rel="stylesheet" media="all">
    <link th:href="@{~/vendor/mdi-font/css/material-design-iconic-font.min.css}" rel="stylesheet" media="all">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Nanum+Gothic+Coding&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS-->
    <link th:href="@{~/vendor/bootstrap-4.1/bootstrap.min.css}" rel="stylesheet" media="all">
    <link th:href="@{~/vendor/bootstrap-select/bootstrap-select.min.css}" rel="stylesheet" media="all">

    <!-- Vendor CSS-->
    <link th:href="@{~/vendor/animsition/animsition.min.css}" rel="stylesheet" media="all">
    <link th:href="@{~/vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css}" rel="stylesheet" media="all">
    <link th:href="@{~/vendor/wow/animate.css}" rel="stylesheet" media="all">
    <link th:href="@{~/vendor/css-hamburgers/hamburgers.min.css}" rel="stylesheet" media="all">
    <link th:href="@{~/vendor/slick/slick.css}" rel="stylesheet" media="all">
    <link th:href="@{~/vendor/select2/select2.min.css}" rel="stylesheet" media="all">
    <link th:href="@{~/vendor/perfect-scrollbar/perfect-scrollbar.css}" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link th:href="@{~/css/theme.css}" rel="stylesheet" media="all">
    <link th:href="@{~/css/main.css}" rel="stylesheet" media="all">
    <link th:href="@{~/css/userDetail.css}" rel="stylesheet">
    <link th:href="@{~/css/loginModal.css}" rel="stylesheet">
    <link th:href="@{~/css/loginForm.css}" rel="stylesheet">

    <!-- Jquery JS-->
    <script th:src="@{~/vendor/jquery-3.5.1.min.js}"></script>

    <link th:href="@{~/css/jquery.datetimepicker.min.css}" rel="stylesheet" media="all">

</head>
<body class="animsition">

<div class="page-wrapper">
    <!-- HEADER MOBILE-->
    <aside class="user-menu-sidebar d-none d-lg-block" th:fragment="mobile">
        <div class="logo">
            <a href="/main">
                <img th:src="@{~/images/icon/Tmate.png}"/>
            </a>
        </div>
        <div class="menu-sidebar__content js-scrollbar1">
            <nav class="navbar-sidebar">
                <ul class="list-unstyled navbar__list">
                    <li th:unless="${session.member == null}">
                        <a th:href="@{/tuser/main(m_id=${session.member.m_id})}" class="menu-btn menu-btn-main">
                            <i class="fas fa-home"></i><span class="menu-color">메인 화면</span></a>
                    </li>
                    <li>
                        <a class="js-arrow menu-btn menu-btn-not" href="#">
                            <i class="fa fa-calendar"></i><span class="menu-color">공지사항</span>
                        </a>
                        <ul class="list-unstyled navbar__sub-list js-sub-list">
                            <li>
                                <a th:href="@{/tuser/notice}"><span class="menu-color">공지사항</span></a>
                            </li>
                            <li>
                                <a th:href="@{/tuesr/event}"><span class="menu-color">이벤트</span></a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a class="js-arrow menu-btn menu-btn-not" href="#">
                            <i class="fa fa-user-circle"></i><span class="menu-color">My T 프로필</span>
                        </a>
                        <ul class="list-unstyled navbar__sub-list js-sub-list">
                            <li>
                                <a  th:href="@{/tuser/profile}"><span class="menu-color">개인정보 및 수정</span></a>
                            </li>
                            <li>
                                <a th:href="@{/tuser/noficard}"><span class="menu-color">지인알림 & 카드 관리</span></a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a class="js-arrow menu-btn menu-btn-not" href="#">
                            <i class="fa fa-list-alt"></i><span class="menu-color">My T 이력</span>
                        </a>
                        <ul class="list-unstyled navbar__sub-list js-sub-list">
                            <li>
                                <a  th:href="@{/tuser/pointd}"><span class="menu-color">포인트 내역</span></a>
                            </li>
                            <li>
                                <a th:href="@{/tuser/paymentd}"><span class="menu-color">결제 이력</span></a>
                            </li>
                            <li>
                                <a th:href="@{/tuser/historyd}"><span class="menu-color">이용 내역</span></a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
    </aside>
    <!-- END HEADER MOBILE-->

    <!-- MENU SIDEBAR-->
    <aside class="user-menu-sidebar d-none d-lg-block" th:fragment="sidebar">

        <div class="logo" th:if="${session.member == null}">
            <a href="#">
                <img th:src="@{~/images/icon/Tmate.png}" alt="T MATE"/>
            </a>
        </div>
        <div class="logo" th:unless="${session.member == null}">
            <a th:href="@{/tuser/main(m_id=${session.member.m_id})}">
                <img th:src="@{~/images/icon/Tmate.png}" alt="T MATE"/>
            </a>
        </div>
        <div class="menu-sidebar__content js-scrollbar1" id="myDIV">
            <nav class="navbar-sidebar">
                <ul class="list-unstyled navbar__list">
                    <li th:unless="${session.member == null}">
                        <a th:href="@{/tuser/main(m_id=${session.member.m_id})}" class="menu-btn menu-btn-main">
                            <i class="fas fa-home"></i><span class="menu-color">메인 화면</span></a>
                    </li>
                    <li>
                        <a class="js-arrow menu-btn menu-btn-not" href="#">
                            <i class="fa fa-calendar"></i><span class="menu-color">공지사항</span>
                        </a>
                        <ul class="list-unstyled navbar__sub-list js-sub-list">
                            <li>
                                <a  th:href="@{/tuser/notice}"><span class="menu-color">공지사항</span></a>
                            </li>
                            <li>
                                <a th:href="@{/tuser/event}"><span class="menu-color">이벤트</span></a>
                            </li>
                        </ul>
                    </li>
                    <li th:unless="${session.member == null}">
                        <a class="js-arrow menu-btn menu-btn-profile" href="#">
                            <i class="fa fa-user-circle"></i><span class="menu-color">My T 프로필</span>
                        </a>
                        <ul class="list-unstyled navbar__sub-list js-sub-list">
                            <li>
                                <a  th:href="@{/tuser/profiled(m_id=${session.member.m_id})}"><span class="menu-color">개인정보 및 수정</span></a>
                            </li>
                            <li>
                                <a th:href="@{/tuser/event}"><span class="menu-color">지인알림 & 카드 관리</span></a>
                            </li>
                        </ul>
                    </li>
                    <li th:unless="${session.member == null}">
                        <a class="js-arrow menu-btn menu-btn-history" href="#">
                            <i class="fa fa-list-alt"></i><span class="menu-color">My T 이력</span>
                        </a>
                        <ul class="list-unstyled navbar__sub-list js-sub-list">
                            <li>
                                <a  th:href="@{/tuser/pointd(m_id=${session.member.m_id})}"><span class="menu-color">포인트 내역</span></a>
                            </li>
                            <li>
                                <a th:href="@{/tuser/paymentd(m_id=${session.member.m_id})}"><span class="menu-color">결제 이력</span></a>
                            </li>
                            <li>
                                <a th:href="@{/tuser/historyd(m_id=${session.member.m_id})}"><span class="menu-color">이용 내역</span></a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
    </aside>
    <!-- END MENU SIDEBAR-->

    <!-- PAGE CONTAINER-->
    <div class="page-container">
        <!-- HEADER DESKTOP-->
        <header class="header-desktop" th:fragment="header">
            <div class="section__content section__content--p30">
                <div class="container-fluid">
                    <div class="header-wrap">
                        <form class="form-header" action="" method="POST">

                        </form>
                        <div class="header-button">
                            <div class="noti-wrap">
                                <div class="noti__item js-item-menu">
                                    <i class="zmdi zmdi-comment-more"></i>
                                    <div class="mess-dropdown js-dropdown">
                                        <div class="mess__title">
                                            <p>메세지가 없습니다.</p>
                                        </div>
                                        <div class="mess__footer">
                                            <a href="#">View all messages</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="noti__item js-item-menu">
                                    <i class="zmdi zmdi-email"></i>
                                    <div class="email-dropdown js-dropdown">
                                        <div class="email__title">
                                            <p>이메일이 없습니다.</p>
                                        </div>
                                        <div class="email__footer">
                                            <a href="#">See all emails</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="noti__item js-item-menu">
                                    <i class="zmdi zmdi-notifications"></i>
                                    <div class="notifi-dropdown js-dropdown">
                                        <div class="notifi__title">
                                            <p>알림이 없습니다.</p>
                                        </div>
                                        <div class="notifi__footer">
                                            <a href="#">All notifications</a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div th:if="${session.member == null}" class="account-wrap">
                                <div class="account-item clearfix js-item-menu">
                                    <div class="image">
                                        <img th:src="@{~/images/icon/guest-profile2.png}"/>
                                    </div>
                                    <div class="content">
                                        <a class="js-acc-btn" href="#">로그인 해주세요</a>
                                    </div>
                                    <div class="account-dropdown js-dropdown">
                                        <div class="info clearfix">
                                            <div class="image">
                                                <a href="#">
                                                    <img th:src="@{~/images/icon/guest-profile2.png}"/>
                                                </a>
                                            </div>
                                            <div class="content">
                                                <h5 class="name">
                                                    <a href="#">Guest</a>
                                                </h5>
                                                <span class="email">default</span>
                                            </div>
                                        </div>
                                        <div class="account-dropdown__footer">
                                            <a id="myBtn" data-toggle="modal" href="#myModal">
                                                <i class="zmdi zmdi-power"></i>Login</a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div th:unless="${session.member == null}" class="account-wrap">
                                <div class="account-item clearfix js-item-menu">
                                    <div class="image">
                                        <img th:src="@{${session.member.m_profile}}"/>
                                    </div>
                                    <div class="content">
                                        <a class="js-acc-btn" href="#" th:text="${session.member.m_name}"></a>
                                    </div>
                                    <div class="account-dropdown js-dropdown">
                                        <div class="info clearfix">
                                            <div class="image">
                                                <a href="#">
                                                    <img th:src="@{${session.member.m_profile}}"/>
                                                </a>
                                            </div>
                                            <div class="content">
                                                <h5 class="name">
                                                    <a href="#" th:text="${session.member.m_name}"></a>
                                                </h5>
                                                <span class="email" th:text="${session.member.m_email}"></span>
                                                <p id="m_id" th:text="${session.member.m_id}"></p>
                                            </div>
                                        </div>
                                        <div class="account-dropdown__body">
                                            <div class="account-dropdown__item">
                                                <a href="#">
                                                    <i class="zmdi zmdi-account"></i>Account</a>
                                            </div>
                                            <div class="account-dropdown__item">
                                                <a href="#">
                                                    <i class="zmdi zmdi-settings"></i>Setting</a>
                                            </div>
                                            <div class="account-dropdown__item">
                                                <a href="#">
                                                    <i class="zmdi zmdi-money-box"></i>Billing</a>
                                            </div>
                                        </div>
                                        <div class="account-dropdown__footer">
                                            <a href="#">
                                                <i class="zmdi zmdi-power"></i>Logout</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- HEADER DESKTOP-->
    </div>
    <!-- End Page Container -->
</div>
<!-- End Page Wrapper -->

<footer th:fragment="footer">
    <!-- Datetimepicker -->
    <script th:src="@{~/vendor/jquery.datetimepicker.full.js}"></script>

    <!-- Sweet Alert -->
    <script th:src="@{~/vendor/sweetalert/sweetalert.min.js}"></script>

    <!-- Bootstrap JS-->
    <script th:src="@{~/vendor/bootstrap-4.1/popper.min.js}"></script>
    <script th:src="@{~/vendor/bootstrap-4.1/bootstrap.min.js}"></script>
    <script th:src="@{~/vendor/bootstrap-select/bootstrap-select.min.js}"></script>

    <!-- Vendor JS -->
    <script th:src="@{~/vendor/slick/slick.min.js}"></script>
    <script th:src="@{~/vendor/wow/wow.min.js}"></script>
    <script th:src="@{~/vendor/animsition/animsition.min.js}"></script>
    <script th:src="@{~/vendor/bootstrap-progressbar/bootstrap-progressbar.min.js}"></script>
    <script th:src="@{~/vendor/counter-up/jquery.waypoints.min.js}"></script>
    <script th:src="@{~/vendor/counter-up/jquery.counterup.min.js}"></script>
    <script th:src="@{~/vendor/circle-progress/circle-progress.min.js}"></script>
    <script th:src="@{~/vendor/perfect-scrollbar/perfect-scrollbar.js}"></script>
    <script th:src="@{~/vendor/chartjs/Chart.bundle.min.js}"></script>
    <script th:src="@{~/vendor/select2/select2.min.js}"></script>

    <!-- Main JS-->
    <script th:inline="javascript" th:src="@{~/js/main.js}"></script>
    <script th:src="@{~/js/modal.js}"></script>
    <script th:src="@{~/js/qrcode.js}"></script>

    <!-- ajax -->
    <script th:src="@{~/js/app/approval.js}"></script>
    <script th:src="@{~/js/app/member.js}"></script>
    <script th:src="@{~/js/app/place.js}"></script>
    <script th:src="@{~/js/app/board.js}"></script>

    <!--    <script>-->
    <!--        var header = document.getElementById("myDIV");-->
    <!--        var btns = header.getElementsByClassName("menu-btn");-->
    <!--        if (window.location.pathname == '/main')-->
    <!--            $(function (){-->
    <!--                for (var i = 0; i < btns.length; i++) {-->
    <!--                    btns[i].addEventListener("click", function() {-->
    <!--                        var current = document.getElementsByClassName("menu-active");-->
    <!--                        current[0].className = current[0].className.replace(" menu-active", "");-->
    <!--                        this.className += " menu-active";-->
    <!--                    });-->
    <!--                }-->
    <!--            })-->
    <!--    </script>-->
    <script>
        var header = document.getElementById("myDIV");
        var btns = header.getElementsByClassName("menu-btn-main");
        if (window.location.pathname == '/tuser/main')
            $(document).ready(function (){
                $('.menu-btn-main').css('backgroundColor', '#0f1864');
                for (var i = 0; i < btns.length; i++) {
                    btns[i].addEventListener("click", function() {
                        var current = document.getElementsByClassName("menu-active");
                        current[0].className = current[0].className.replace(" menu-active", "");
                        this.className += " menu-active";
                    });
                }
            });
    </script>
    <script>
        var header = document.getElementById("myDIV");
        var btns = header.getElementsByClassName("menu-btn");
        if (window.location.pathname == '/tuser/notice')
            $(document).ready(function (){
                $('.menu-btn-not').css('backgroundColor', '#0f1864');
            });
    </script>
    <script>
        var header = document.getElementById("myDIV");
        var btns = header.getElementsByClassName("menu-btn");
        if (window.location.pathname == '/tuser/event')
            $(document).ready(function (){
                $('.menu-btn-not').css('backgroundColor', '#0f1864');
            });
    </script>

    <script>
        var header = document.getElementById("myDIV");
        var btns = header.getElementsByClassName("menu-btn");
        if (window.location.pathname == '/tuser/profiled')
            $(document).ready(function (){
                $('.menu-btn-profile').css('backgroundColor', '#0f1864');
            });
    </script>

    <script>
        var header = document.getElementById("myDIV");
        var btns = header.getElementsByClassName("menu-btn");
        if (window.location.pathname == '/tuser/pointd')
            $(document).ready(function (){
                $('.menu-btn-history').css('backgroundColor', '#0f1864');
            });
    </script>
    <script>
        var header = document.getElementById("myDIV");
        var btns = header.getElementsByClassName("menu-btn");
        if (window.location.pathname == '/tuser/paymentd')
            $(document).ready(function (){
                $('.menu-btn-history').css('backgroundColor', '#0f1864');
            });
    </script>
    <script>
        var header = document.getElementById("myDIV");
        var btns = header.getElementsByClassName("menu-btn");
        if (window.location.pathname == '/tuser/historyd')
            $(document).ready(function (){
                $('.menu-btn-history').css('backgroundColor', '#0f1864');
            });
    </script>
</footer>

</body>
</html>